<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>DIGIY FRET ‚Äî Chauffeur</title>
  <meta name="theme-color" content="#0ea5e9" />
  <meta name="description" content="DIGIY FRET Chauffeur ‚Äî missions, statut, encaissement. 0% commission." />

  <!-- Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <style>
    :root{
      --bg1:#f7fbff;--bg2:#fff7ed;--card:#fff;
      --text:#0b1220;--muted:#5b6472;--line:rgba(0,0,0,.08);
      --sky:#0ea5e9;--gold:#f59e0b;--ok:#16a34a;--bad:#dc2626;
      --radius:18px;--shadow:0 10px 25px rgba(0,0,0,.08);
    }
    *{box-sizing:border-box}
    body{
      margin:0;font-family:system-ui,Arial,sans-serif;color:var(--text);
      background:linear-gradient(180deg,var(--bg1),var(--bg2));
    }
    .wrap{max-width:1100px;margin:auto;padding:16px}
    .topbar{
      display:flex;justify-content:space-between;align-items:center;gap:10px;
      background:#fff;border:1px solid var(--line);border-radius:18px;
      padding:14px;box-shadow:var(--shadow)
    }
    .brand{display:flex;align-items:center;gap:12px}
    .logo{
      width:44px;height:44px;border-radius:14px;
      background:linear-gradient(135deg,var(--sky),var(--gold));
      display:flex;align-items:center;justify-content:center;
      font-weight:900
    }
    .btn{
      padding:10px 12px;border-radius:14px;
      border:1px solid var(--line);background:#fff;
      font-weight:800;cursor:pointer
    }
    .btn.primary{background:#e0f2fe;border-color:#7dd3fc}
    .btn.gold{background:#fff7ed;border-color:#fed7aa}
    .grid{margin-top:14px;display:grid;grid-template-columns:1.2fr .8fr;gap:14px}
    @media(max-width:900px){.grid{grid-template-columns:1fr}}
    .card{
      background:#fff;border:1px solid var(--line);
      border-radius:var(--radius);box-shadow:var(--shadow)
    }
    .hd{padding:14px;border-bottom:1px solid var(--line)}
    .bd{padding:14px}
    .pill{
      display:inline-flex;align-items:center;gap:8px;
      padding:8px 12px;border-radius:999px;
      border:1px solid var(--line);font-weight:800
    }
    .dot{width:10px;height:10px;border-radius:50%}
    .ok{background:var(--ok)} .bad{background:var(--bad)}
    .job{
      border:1px solid var(--line);border-radius:14px;
      padding:12px;margin-bottom:10px
    }
    .job h3{margin:0;font-size:14px}
    .chip{
      display:inline-block;padding:6px 10px;border-radius:999px;
      background:#f1f5f9;font-weight:800;font-size:12px;margin:4px 4px 0 0
    }
    .actions button{margin-right:6px;margin-top:6px}
    .notice{
      margin-top:10px;padding:10px;border-radius:14px;
      background:#f8fafc;border:1px dashed var(--line);
      font-size:13px;color:var(--muted)
    }
  </style>
</head>

<body>
<div class="wrap">

  <!-- TOP -->
  <div class="topbar">
    <div class="brand">
      <div class="logo">üöö</div>
      <div>
        <b>DIGIY FRET ‚Äî Chauffeur</b><br>
        <small>0% commission ‚Ä¢ terrain first</small>
      </div>
    </div>
    <div>
      <button class="btn primary" onclick="loadJobs()">‚Üª Actualiser</button>
      <button class="btn gold" onclick="toggleDispo()">‚ö° Dispo</button>
    </div>
  </div>

  <div class="grid">

    <!-- MISSIONS -->
    <div class="card">
      <div class="hd">
        <b>üì¶ Mes missions</b>
        <div class="pill" style="float:right">
          <span class="dot ok"></span> Mode d√©mo
        </div>
      </div>
      <div class="bd" id="jobs"></div>
    </div>

    <!-- INFOS -->
    <div class="card">
      <div class="hd"><b>üßæ Tableau chauffeur</b></div>
      <div class="bd">
        <div class="pill"><span class="dot ok"></span> Disponible</div>
        <div class="notice" id="log">Pr√™t. üöÄ</div>
      </div>
    </div>

  </div>
</div>

<script>
/* SUPABASE (branch√© mais non bloquant) */
const SUPABASE_URL = "https://wesqmwjjtsefyjnluosj.supabase.co";
const SUPABASE_ANON_KEY = "TA_CLE_ANON_ICI";
const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

/* MODE D√âMO ‚Äî MISSIONS */
function demoJobs(){
  return [
    {id:"FRET-001",from:"Dakar Plateau",to:"Pikine",cargo:"Cartons boutique",vol:"M",price:4500},
    {id:"FRET-002",from:"Saly",to:"Ngaparou",cargo:"Boissons",vol:"L",price:6500}
  ];
}

function renderJobs(list){
  const el=document.getElementById("jobs");
  el.innerHTML="";
  list.forEach(j=>{
    el.innerHTML+=`
      <div class="job">
        <h3>üöö ${j.id}</h3>
        <div class="chip">üìç ${j.from} ‚Üí ${j.to}</div>
        <div class="chip">üì¶ ${j.cargo}</div>
        <div class="chip">Vol ${j.vol}</div>
        <div class="chip">üí∞ ${j.price} F CFA</div>
        <div class="actions">
          <button class="btn primary">Accepter</button>
          <button class="btn">Livr√©</button>
        </div>
      </div>
    `;
  });
}

function loadJobs(){
  renderJobs(demoJobs());
  log("Missions charg√©es (d√©mo)");
}

function toggleDispo(){
  log("Statut chang√©");
}

function log(msg){
  document.getElementById("log").textContent=msg;
}

/* START */
loadJobs();
</script>
</body>
</html>
